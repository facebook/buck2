"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[60701],{28453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>d});var a=r(96540);const l={},n=a.createContext(l);function s(e){const t=a.useContext(n);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),a.createElement(n.Provider,{value:t},e.children)}},56999:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>x,frontMatter:()=>d,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"api/bxl/LazyUqueryContext","title":"LazyUqueryContext","description":"The context for performing lazy uquery operations in bxl. The functions offered on this ctx are the same behaviour as the query functions available within uquery command.","source":"@site/../docs/api/bxl/LazyUqueryContext.md","sourceDirName":"api/bxl","slug":"/api/bxl/LazyUqueryContext","permalink":"/docs/api/bxl/LazyUqueryContext","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"LazyResolvedAttrs","permalink":"/docs/api/bxl/LazyResolvedAttrs"},"next":{"title":"OutputStream","permalink":"/docs/api/bxl/OutputStream"}}');var l=r(74848),n=r(28453),s=r(56289);const d={},i="LazyUqueryContext",o={},c=[{value:"LazyUqueryContext.allpaths",id:"lazyuquerycontextallpaths",level:2},{value:"LazyUqueryContext.attrfilter",id:"lazyuquerycontextattrfilter",level:2},{value:"LazyUqueryContext.attrregexfilter",id:"lazyuquerycontextattrregexfilter",level:2},{value:"LazyUqueryContext.buildfile",id:"lazyuquerycontextbuildfile",level:2},{value:"LazyUqueryContext.deps",id:"lazyuquerycontextdeps",level:2},{value:"LazyUqueryContext.eval",id:"lazyuquerycontexteval",level:2},{value:"LazyUqueryContext.filter",id:"lazyuquerycontextfilter",level:2},{value:"LazyUqueryContext.inputs",id:"lazyuquerycontextinputs",level:2},{value:"LazyUqueryContext.kind",id:"lazyuquerycontextkind",level:2},{value:"LazyUqueryContext.owner",id:"lazyuquerycontextowner",level:2},{value:"LazyUqueryContext.rdeps",id:"lazyuquerycontextrdeps",level:2},{value:"LazyUqueryContext.somepath",id:"lazyuquerycontextsomepath",level:2},{value:"LazyUqueryContext.targets_in_buildfile",id:"lazyuquerycontexttargets_in_buildfile",level:2},{value:"LazyUqueryContext.testsof",id:"lazyuquerycontexttestsof",level:2}];function u(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"lazyuquerycontext",children:"LazyUqueryContext"})}),"\n",(0,l.jsxs)(t.p,{children:["The context for performing lazy ",(0,l.jsx)(t.code,{children:"uquery"})," operations in bxl. The functions offered on this ctx are the same behaviour as the query functions available within uquery command."]}),"\n",(0,l.jsxs)(t.p,{children:["An instance may be obtained with ",(0,l.jsx)(t.a,{href:"../LazyContext#lazycontextuquery",children:(0,l.jsx)(t.code,{children:"bxl.LazyContext.uquery()"})}),"."]}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextallpaths",children:"LazyUqueryContext.allpaths"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.allpaths(\nfrom: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\nto: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\n/,\n*,\nfilter: None | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," = None,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsxs)(t.p,{children:["Computes all dependency paths from ",(0,l.jsx)(t.code,{children:"from"})," to ",(0,l.jsx)(t.code,{children:"to"}),", with optional filter."]}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().allpaths("//:foo", "//:bar", filter = "attrfilter(\'name\', \'some_name\', target_deps()")).catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextattrfilter",children:"LazyUqueryContext.attrfilter"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.attrfilter(\nattr: ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),",\nvalue: ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),",\ntargets: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\n/,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsx)(t.p,{children:"Filters targets by attribute value."}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().attrfilter("name", "some_name", "//:foo").catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextattrregexfilter",children:"LazyUqueryContext.attrregexfilter"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.attrregexfilter(\nattr: ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),",\nvalue: ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),",\ntargets: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\n/,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsx)(t.p,{children:"Filters targets by attribute value using regex matching."}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().attrregexfilter("name", "he.*lo", "//:foo").catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextbuildfile",children:"LazyUqueryContext.buildfile"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.buildfile(\ntargets: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\n/,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsx)(t.p,{children:"Finds the build file(s) that define the given targets."}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().buildfile("//:foo").catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextdeps",children:"LazyUqueryContext.deps"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.deps(\nuniverse: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\ndepth: None | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/int",children:"int"})," = None,\n/,\n*,\nfilter: None | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," = None,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsxs)(t.p,{children:["Finds the ",(0,l.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Transitive_closure",children:"transitive closure"})," of dependencies."]}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:"res = ctx.lazy.uquery().deps(\"//:foo\", 1, filter = \"attrfilter('name', 'some_name', target_deps())\").catch().resolve()\n"})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontexteval",children:"LazyUqueryContext.eval"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.eval(\nquery: ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),",\n/,\n*,\nquery_args: None | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"] = None,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsx)(t.p,{children:"Evaluates a general query string with optional query arguments."}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().eval("inputs(cell//path/to/file:target)").catch().resolve()\nres = ctx.lazy.uquery().eval("inputs(%s)", query_args = ["cell//path/to/file:target"]).catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextfilter",children:"LazyUqueryContext.filter"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.filter(\nregex: ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),",\ntargets: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\n/,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsx)(t.p,{children:"Filters targets by name using a regex pattern."}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().filter(".*the_binary", "//:foo").catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextinputs",children:"LazyUqueryContext.inputs"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.inputs(\ntargets: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\n/,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsx)(t.p,{children:"Finds input files for the given targets."}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().inputs("//:foo").catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextkind",children:"LazyUqueryContext.kind"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.kind(\nregex: ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),",\ntargets: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\n/,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsx)(t.p,{children:"Filters targets by rule type using a regex pattern."}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().kind("cpp.*", "//:foo").catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextowner",children:"LazyUqueryContext.owner"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.owner(\nfiles: bxl.FileSet | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"] | tuple[",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),", ...],\n/,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsx)(t.p,{children:"Finds targets that own the specified files."}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().owner("bin/TARGETS.fixture").catch().resolve()\nres = ctx.lazy.uquery().owner(["bin/TARGET", "bin/kind"]).catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextrdeps",children:"LazyUqueryContext.rdeps"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.rdeps(\nuniverse: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\nfrom: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\ndepth: None | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/int",children:"int"})," = None,\n/,\n*,\nfilter: None | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," = None,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsxs)(t.p,{children:["Finds the ",(0,l.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Transitive_closure",children:"transitive closure"})," of reverse dependencies."]}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().rdeps("//:universe", "//:from", 1, filter = "attrfilter(\'name\', \'some_name\', target_deps())").catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontextsomepath",children:"LazyUqueryContext.somepath"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.somepath(\nfrom: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\nto: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\n/,\n*,\nfilter: None | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," = None,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsxs)(t.p,{children:["Computes some dependency path from ",(0,l.jsx)(t.code,{children:"from"})," to ",(0,l.jsx)(t.code,{children:"to"}),", with optional filter."]}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().somepath("//:foo", "//:bar", filter = "attrfilter(\'name\', \'some_name\', target_deps()")).catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontexttargets_in_buildfile",children:"LazyUqueryContext.targets_in_buildfile"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.targets_in_buildfile(\nfiles: bxl.FileSet | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"] | tuple[",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),", ...],\n/,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsx)(t.p,{children:"Finds targets defined in the specified build files."}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'res = ctx.lazy.uquery().targets_in_buildfile("bin/TARGETS.fixture").catch().resolve()\nres = ctx.lazy.uquery().targets_in_buildfile(["bin/TARGETS", "lib/TARGETS"]).catch().resolve()\n'})}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"lazyuquerycontexttestsof",children:"LazyUqueryContext.testsof"}),"\n",(0,l.jsx)("pre",{class:"language-python",children:(0,l.jsxs)("code",{children:["def LazyUqueryContext.testsof(\nexpr: ",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetSet",children:"target_set"})," | list[",(0,l.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/UnconfiguredTargetNode",children:"bxl.UnconfiguredTargetNode"})," | ",(0,l.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"],\n/,\n) -> ",(0,l.jsx)(s.default,{to:"/docs/api/bxl/Lazy",children:"bxl.Lazy"})]})}),"\n",(0,l.jsxs)(t.p,{children:["Querying the test targets of the given target. It returns ",(0,l.jsx)(t.code,{children:"UnconfiguredTargetSet"})]}),"\n",(0,l.jsx)(t.p,{children:"Example:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'def _impl(ctx: bxl.Context):\n    res = ctx.lazy.uquery().testsof("//:foo_lib").catch().resolve()\n    if res.is_ok():\n        nodes = res.get()\n        ctx.output.print(nodes)\n    else:\n        err = res.unwrap_err()\n        ctx.output.print(err)\n'})})]})}function x(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}}}]);