"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[80970],{28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var s=t(96540);const i={},a=s.createContext(i);function l(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(a.Provider,{value:n},e.children)}},86555:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"api/build/AnalysisContext","title":"AnalysisContext","description":"The type used for defining rules, usually bound as ctx. Usually the sole argument to the impl argument of the rule function.","source":"@site/../docs/api/build/AnalysisContext.md","sourceDirName":"api/build","slug":"/api/build/AnalysisContext","permalink":"/docs/api/build/AnalysisContext","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"AnalysisActions","permalink":"/docs/api/build/AnalysisActions"},"next":{"title":"AnonTarget","permalink":"/docs/api/build/AnonTarget"}}');var i=t(74848),a=t(28453),l=t(56289);const o={},r="AnalysisContext",c={},d=[{value:"AnalysisContext.actions",id:"analysiscontextactions",level:2},{value:"AnalysisContext.attrs",id:"analysiscontextattrs",level:2},{value:"AnalysisContext.label",id:"analysiscontextlabel",level:2},{value:"AnalysisContext.plugins",id:"analysiscontextplugins",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"analysiscontext",children:"AnalysisContext"})}),"\n",(0,i.jsxs)(n.p,{children:["The type used for defining rules, usually bound as ",(0,i.jsx)(n.code,{children:"ctx"}),". Usually the sole argument to the ",(0,i.jsx)(n.code,{children:"impl"})," argument of the ",(0,i.jsx)(n.code,{children:"rule"})," function."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'def _impl_my_rule(ctx: AnalysisContext) -> ["provider"]:\n    return [DefaultInfo()]\nmy_rule = rule(impl = _impl_my_rule, attrs = {})\n'})}),"\n",(0,i.jsx)(n.h2,{id:"analysiscontextactions",children:"AnalysisContext.actions"}),"\n",(0,i.jsx)("pre",{class:"language-python",children:(0,i.jsxs)("code",{children:["AnalysisContext.actions: ",(0,i.jsx)(l.default,{to:"/docs/api/build/AnalysisActions",children:"AnalysisActions"})]})}),"\n",(0,i.jsxs)(n.p,{children:["Returns an ",(0,i.jsx)(n.code,{children:"actions"})," value containing functions to define actual actions that are run. See the ",(0,i.jsx)(n.code,{children:"actions"})," type for the operations that are available."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"analysiscontextattrs",children:"AnalysisContext.attrs"}),"\n",(0,i.jsx)("pre",{class:"language-python",children:(0,i.jsx)("code",{children:"AnalysisContext.attrs: struct(..)"})}),"\n",(0,i.jsxs)(n.p,{children:["Returns the attributes of the target as a Starlark struct with a field for each attribute, which varies per rule. As an example, given a rule with the ",(0,i.jsx)(n.code,{children:"attrs"})," argument of ",(0,i.jsx)(n.code,{children:'{"foo": attrs.string()}'}),", this field will be a ",(0,i.jsx)(n.code,{children:"struct"})," containing a field ",(0,i.jsx)(n.code,{children:"foo"})," of type string."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"analysiscontextlabel",children:"AnalysisContext.label"}),"\n",(0,i.jsx)("pre",{class:"language-python",children:(0,i.jsxs)("code",{children:["AnalysisContext.label: ",(0,i.jsx)(l.default,{to:"/docs/api/build/Label",children:"Label"})," | None"]})}),"\n",(0,i.jsxs)(n.p,{children:["Returns a ",(0,i.jsx)(n.code,{children:"label"})," representing the target, or ",(0,i.jsx)(n.code,{children:"None"})," if being invoked from a ",(0,i.jsx)(n.code,{children:"dynamic_output"})," in Bxl."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"analysiscontextplugins",children:"AnalysisContext.plugins"}),"\n",(0,i.jsx)("pre",{class:"language-python",children:(0,i.jsx)("code",{children:"AnalysisContext.plugins: AnalysisPlugins"})}),"\n",(0,i.jsxs)(n.p,{children:["An opaque value that can be indexed with a plugin kind to get a list of the available plugin deps of that kind. The rule must set an appropriate value on ",(0,i.jsx)(n.code,{children:"uses_plugins"})," in its declaration."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);