"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[44527],{28453:(e,i,o)=>{o.d(i,{R:()=>s,x:()=>d});var r=o(96540);const t={},n=r.createContext(t);function s(e){const i=r.useContext(n);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(n.Provider,{value:i},e.children)}},35950:(e,i,o)=>{o.d(i,{A:()=>r});const r=o.p+"assets/files/modifiers-a7e70e871b8adbb9be610c45a18f42f3.pdf"},43946:(e,i,o)=>{o.r(i),o.d(i,{assets:()=>a,contentTitle:()=>d,default:()=>f,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"concepts/modifiers","title":"Configuration modifiers","description":"Modifiers (also referred to as configuration modifiers) are a feature that lets","source":"@site/../docs/concepts/modifiers.md","sourceDirName":"concepts","slug":"/concepts/modifiers","permalink":"/docs/concepts/modifiers","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"modifiers","title":"Configuration modifiers"},"sidebar":"main","previous":{"title":"Configurations","permalink":"/docs/concepts/configurations"},"next":{"title":"Glossary of Terms","permalink":"/docs/concepts/glossary"}}');var t=o(74848),n=o(28453);const s={id:"modifiers",title:"Configuration modifiers"},d=void 0,a={},c=[{value:"(Open-Source Only) Getting started with modifiers",id:"open-source-only-getting-started-with-modifiers",level:2},{value:"Per-<code>PACKAGE</code> modifiers",id:"per-package-modifiers",level:2},{value:"Per-target modifiers",id:"per-target-modifiers",level:2},{value:"CLI modifiers",id:"cli-modifiers",level:2},{value:"More information",id:"more-information",level:2}];function l(e){const i={a:"a",code:"code",h2:"h2",p:"p",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.p,{children:["Modifiers (also referred to as configuration modifiers) are a feature that lets\nusers add ",(0,t.jsx)(i.a,{href:"../../rule_authors/configurations",children:"constraints"})," to individual\ndirectories, target definitions and individual ",(0,t.jsx)(i.code,{children:"buck2"})," invocations. They are the\nrecommended to customize build configuration."]}),"\n",(0,t.jsx)(i.h2,{id:"open-source-only-getting-started-with-modifiers",children:"(Open-Source Only) Getting started with modifiers"}),"\n",(0,t.jsxs)(i.p,{children:["To add support for modifiers in your project, simply call ",(0,t.jsx)(i.code,{children:"set_cfg_constructor"}),"\nin your root ",(0,t.jsx)(i.code,{children:"PACKAGE"})," file. Note this is not needed internally as modifiers are\nalready enabled with all the right paramaters."]}),"\n",(0,t.jsxs)(i.p,{children:["See the ",(0,t.jsx)(i.a,{href:"../../users/how_tos/modifiers_setup",children:"dedicated how-to"})," for more\ninformation."]}),"\n",(0,t.jsxs)(i.h2,{id:"per-package-modifiers",children:["Per-",(0,t.jsx)(i.code,{children:"PACKAGE"})," modifiers"]}),"\n",(0,t.jsxs)(i.p,{children:["Modifiers can be specified in ",(0,t.jsx)(i.code,{children:"PACKAGE"})," files. A per-PACKAGE modifier all\ntargets in the directory of that PACKAGE file. For example, a modifier specified\nin ",(0,t.jsx)(i.code,{children:"foo/PACKAGE"})," will cover all targets in ",(0,t.jsx)(i.code,{children:"foo/..."})," and all targets in\n",(0,t.jsx)(i.code,{children:"foo/bar/..."}),"."]}),"\n",(0,t.jsxs)(i.p,{children:["See the ",(0,t.jsx)(i.a,{href:"../../users/how_tos/modifiers_package",children:"dedicated how-to"})," for more\ninformation."]}),"\n",(0,t.jsx)(i.h2,{id:"per-target-modifiers",children:"Per-target modifiers"}),"\n",(0,t.jsxs)(i.p,{children:["Modifiers can be added to individual targets. See the\n",(0,t.jsx)(i.a,{href:"../../users/how_tos/modifiers_target",children:"dedicated how-to"})," for more information."]}),"\n",(0,t.jsx)(i.h2,{id:"cli-modifiers",children:"CLI modifiers"}),"\n",(0,t.jsx)(i.p,{children:"Modifiers can be specified on the CLI to build a target with a specific\nconstraint. For example, this can be used to build a target with a non-default\ncompiler, or to run a test using a specific sanitizer."}),"\n",(0,t.jsxs)(i.p,{children:["See the ",(0,t.jsx)(i.a,{href:"../../users/how_tos/modifiers_cli",children:"dedicated how-to"})," for more\ninformation."]}),"\n",(0,t.jsx)(i.h2,{id:"more-information",children:"More information"}),"\n",(0,t.jsxs)(i.p,{children:["Official documentation on modifiers is sparse at the moment, so you might be\ninterested in reading ",(0,t.jsx)(i.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:o(35950).A+"",children:"the original RFC"}),"\nfor more details."]})]})}function f(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);