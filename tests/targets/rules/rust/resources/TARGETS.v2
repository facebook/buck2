load("//buck2/tests/targets/rules:bzl_native.bzl", "bzl_native")

bzl_native.cxx_library(
    name = "cxx_with_resource",
    resources = [
        "resource_cxx_library",
    ],
)

bzl_native.rust_library(
    name = "rust_with_resource",
    srcs = ["dependency.rs"],
    crate_root = "dependency.rs",
    resources = [
        "resource_rust_library",
    ],
)

bzl_native.rust_test(
    name = "look_for_resources",
    srcs = ["test.rs"],
    crate_root = "test.rs",
    deps = [
        ":cxx_with_resource",
        ":rust_with_resource",
        "//common/rust/buck_resources:buck_resources",
    ],
    resources = [
        "resource_rust_test",
    ],
)
