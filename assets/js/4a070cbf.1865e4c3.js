"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[19774],{20804:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>f,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"api/build/ConfigurationInfo","title":"ConfigurationInfo","description":"Provider that signals that a rule contains configuration info. This is used both as part of defining configurations (platform(), constraintvalue()) and defining whether a target \\"matches\\" a configuration or not (configsetting(), constraint_value())","source":"@site/../docs/api/build/ConfigurationInfo.md","sourceDirName":"api/build","slug":"/api/build/ConfigurationInfo","permalink":"/docs/api/build/ConfigurationInfo","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"CommandLineInputs","permalink":"/docs/api/build/CommandLineInputs"},"next":{"title":"ConfiguredProvidersLabel","permalink":"/docs/api/build/ConfiguredProvidersLabel"}}');var o=i(74848),r=i(28453),s=i(56289);const a={},l="ConfigurationInfo",c={},d=[{value:"ConfigurationInfo.constraints",id:"configurationinfoconstraints",level:2},{value:"ConfigurationInfo.copy",id:"configurationinfocopy",level:2},{value:"Example",id:"example",level:3},{value:"ConfigurationInfo.get",id:"configurationinfoget",level:2},{value:"Example",id:"example-1",level:3},{value:"ConfigurationInfo.insert",id:"configurationinfoinsert",level:2},{value:"Example",id:"example-2",level:3},{value:"ConfigurationInfo.pop",id:"configurationinfopop",level:2},{value:"Example",id:"example-3",level:3},{value:"ConfigurationInfo.values",id:"configurationinfovalues",level:2}];function u(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"configurationinfo",children:"ConfigurationInfo"})}),"\n",(0,o.jsxs)(e.p,{children:["Provider that signals that a rule contains configuration info. This is used both as part of defining configurations (",(0,o.jsx)(e.code,{children:"platform()"}),", ",(0,o.jsx)(e.code,{children:"constraint_value()"}),') and defining whether a target "matches" a configuration or not (',(0,o.jsx)(e.code,{children:"config_setting()"}),", ",(0,o.jsx)(e.code,{children:"constraint_value()"}),")"]}),"\n",(0,o.jsx)(e.h2,{id:"configurationinfoconstraints",children:"ConfigurationInfo.constraints"}),"\n",(0,o.jsx)("pre",{class:"language-python",children:(0,o.jsxs)("code",{children:["ConfigurationInfo.constraints: dict[",(0,o.jsx)(s.default,{to:"/docs/api/build/TargetLabel",children:"TargetLabel"}),", ConstraintValueInfo]"]})}),"\n",(0,o.jsx)(e.p,{children:"A dictionary mapping constraint setting labels to their corresponding constraint values."}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"configurationinfocopy",children:"ConfigurationInfo.copy"}),"\n",(0,o.jsx)("pre",{class:"language-python",children:(0,o.jsx)("code",{children:"ConfigurationInfo.copy: ConfigurationInfo"})}),"\n",(0,o.jsx)(e.p,{children:"Create a copy of the ConfigurationInfo."}),"\n",(0,o.jsxs)(e.p,{children:["Returns a new ",(0,o.jsx)(e.code,{children:"ConfigurationInfo"})," instance with copies of the original one.\nOperations on the copy will not affect the original."]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Returns"}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["A new ",(0,o.jsx)(e.code,{children:"ConfigurationInfo"})," with the same constraints and values as the original."]}),"\n",(0,o.jsx)(e.h3,{id:"example",children:"Example"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"# Create a copy and modify it without affecting the original\nconfig_copy = config_info.copy()\nconfig_copy.insert(new_constraint_value)\n# Original config_info remains unchanged\n"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"configurationinfoget",children:"ConfigurationInfo.get"}),"\n",(0,o.jsx)("pre",{class:"language-python",children:(0,o.jsx)("code",{children:"ConfigurationInfo.get: None | ConstraintValueInfo"})}),"\n",(0,o.jsx)(e.p,{children:"Get a constraint value by its constraint setting."}),"\n",(0,o.jsxs)(e.p,{children:["Accepts a ",(0,o.jsx)(e.code,{children:"ConstraintSettingInfo"})," and returns the corresponding\n",(0,o.jsx)(e.code,{children:"ConstraintValueInfo"}),". If the constraint is not set,\nreturns the default constraint value from the setting (if defined)."]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"Arguments"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"key"}),": A ",(0,o.jsx)(e.code,{children:"ConstraintSettingInfo"})," to look up"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"Returns"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["The ",(0,o.jsx)(e.code,{children:"ConstraintValueInfo"})," for the given setting. If not set in the\nconstraints, returns the default constraint value from the setting.\nReturns ",(0,o.jsx)(e.code,{children:"None"})," only if the constraint is not present and the constraint has no default."]}),"\n",(0,o.jsx)(e.h3,{id:"example-1",children:"Example"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:'# Get constraint value by setting\ncpu_setting = ref.cpu_setting[ConstraintSettingInfo]\nvalue = config_info.get(cpu_setting)\nif value:\n    print("CPU constraint: {}".format(value))\n'})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"configurationinfoinsert",children:"ConfigurationInfo.insert"}),"\n",(0,o.jsx)("pre",{class:"language-python",children:(0,o.jsx)("code",{children:"ConfigurationInfo.insert: None | ConstraintValueInfo"})}),"\n",(0,o.jsx)(e.p,{children:"Insert a ConstraintValueInfo into the constraints."}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"Arguments"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"value"}),": The ",(0,o.jsx)(e.code,{children:"ConstraintValueInfo"})," to insert"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"Returns"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["The previously set ",(0,o.jsx)(e.code,{children:"ConstraintValueInfo"})," for this setting, if any.\nIf no previous value existed, returns the default constraint value from the setting\n(if defined). Returns ",(0,o.jsx)(e.code,{children:"None"})," only if there was no previous value and the constraint\nhas no default."]}),"\n",(0,o.jsx)(e.h3,{id:"example-2",children:"Example"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:'# Insert a new constraint value\nnew_value = ref.some_constraint[ConstraintValueInfo]\nold_value = config_info.insert(new_value)\nif old_value:\n    print("Replaced previous value: {}".format(old_value))\n'})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"configurationinfopop",children:"ConfigurationInfo.pop"}),"\n",(0,o.jsx)("pre",{class:"language-python",children:(0,o.jsx)("code",{children:"ConfigurationInfo.pop: None | ConstraintValueInfo"})}),"\n",(0,o.jsx)(e.p,{children:"Remove and return a constraint value by its setting."}),"\n",(0,o.jsxs)(e.p,{children:["Accepts a ",(0,o.jsx)(e.code,{children:"ConstraintSettingInfo"})," and returns the corresponding\n",(0,o.jsx)(e.code,{children:"ConstraintValueInfo"}),". If the constraint is not set,\nreturns the default constraint value from the setting (if defined)."]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"Arguments"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"key"}),": A ",(0,o.jsx)(e.code,{children:"ConstraintSettingInfo"})," to remove"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"Returns"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["The removed ",(0,o.jsx)(e.code,{children:"ConstraintValueInfo"})," if it was set.\nIf not present, returns the default constraint value from the setting (if defined).\nReturns ",(0,o.jsx)(e.code,{children:"None"})," only if the constraint was not set and the constraint has no default."]}),"\n",(0,o.jsx)(e.h3,{id:"example-3",children:"Example"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:'# Remove a constraint\ncpu_setting = ref.cpu_setting[ConstraintSettingInfo]\nremoved_value = config_info.pop(cpu_setting)\nif removed_value:\n    print("Removed: {}".format(removed_value))\n'})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"configurationinfovalues",children:"ConfigurationInfo.values"}),"\n",(0,o.jsx)("pre",{class:"language-python",children:(0,o.jsxs)("code",{children:["ConfigurationInfo.values: dict[",(0,o.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),", ",(0,o.jsx)(s.default,{to:"/docs/api/starlark/str",children:"str"}),"]"]})}),"\n",(0,o.jsx)(e.p,{children:"A dictionary of buckconfig section.key pairs and their values."})]})}function f(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(u,{...n})}):u(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>a});var t=i(96540);const o={},r=t.createContext(o);function s(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);