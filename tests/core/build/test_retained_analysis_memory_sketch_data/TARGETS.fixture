load(":rules.bzl", "memory_retaining_rule")
load(":rules_with_anon.bzl", "rule_with_anon")
load(":rules_with_globals.bzl", "rule_with_globals")

# Shared dependency that both top-level targets depend on
memory_retaining_rule(
    name = "shared_dep",
    memory_size = 5000000,
)

# First top-level target
memory_retaining_rule(
    name = "target1",
    memory_size = 1000000,
    deps = [":shared_dep"],
)

# Second top-level target
memory_retaining_rule(
    name = "target2",
    memory_size = 1500000,
    deps = [":shared_dep"],
)

# Target that uses a rule with bzl globals
rule_with_globals(
    name = "target_with_globals",
)

# Target that uses anon targets
rule_with_anon(
    name = "target_with_anon",
    anon_memory_size = 500000,
    memory_size = 100000,
)
