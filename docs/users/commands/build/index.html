<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-users/commands/build" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">build | Buck2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://buck2.build/docs/users/commands/build/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="build | Buck2"><meta data-rh="true" name="description" content="This document provides an overview of the commands and options available under buck2 build."><meta data-rh="true" property="og:description" content="This document provides an overview of the commands and options available under buck2 build."><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://buck2.build/docs/users/commands/build/"><link data-rh="true" rel="alternate" href="https://buck2.build/docs/users/commands/build/" hreflang="en"><link data-rh="true" rel="alternate" href="https://buck2.build/docs/users/commands/build/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9RT0EWXQO8-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Buck2" href="/opensearch.xml">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GEGGHE39PE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GEGGHE39PE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.365ec9d7.css">
<script src="/assets/js/runtime~main.c6737254.js" defer="defer"></script>
<script src="/assets/js/main.8692fade.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>

<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Buck2 Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Buck2 Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Buck2</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/docs/api/">API</a><a class="navbar__item navbar__link" href="/docs/prelude/rules/">Rules</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/buck2" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/about/why/">About Buck2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/about/why/">Why Buck2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/about/language_support/">Language / Ecosystem Support</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/about/benefits/compared_to_buck1/">Benefits</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/about/benefits/compared_to_buck1/">Benefits When Compared to Buck1</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/about/bootstrapping/">Bootstrapping Buck2</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/getting_started/">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting_started/what_is_buck2/">What is Buck2?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting_started/install/">Installing Buck2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting_started/tutorial_first_build/">Tutorial: Your First Buck2 Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting_started/tutorial_adding_dependencies/">Tutorial: Adding Dependencies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting_started/tutorial_adding_tests/">Tutorial: Adding tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting_started/tutorial_to_concepts/">From Tutorial to Concepts</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/concepts/key_concepts/">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/key_concepts/">Key Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/concept_map/">Concept Map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/build_rule/">Build Rule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/build_file/">Build File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/build_target/">Build Target</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/target_pattern/">Target Pattern</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/buck_out/">buck-out</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/visibility/">Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/toolchain/">Toolchain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/daemon/">Daemon (buckd)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/labels/">Labels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/isolation_dir/">Isolation Directory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/buckconfig/">.buckconfig</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/configurations/">Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/modifiers/">Configuration modifiers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/glossary/">Glossary of Terms</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/users/commands/">Buck2 Users</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/users/commands/">Commands</a><button aria-label="Collapse sidebar category &#x27;Commands&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/aquery/">aquery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/audit/">audit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/users/commands/build/">build</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/bxl/">bxl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/clean/">clean</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/completion/">completion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/cquery/">cquery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/ctargets/">ctargets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/docs/">docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/expand-external-cell/">expand-external-cell</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/explain/">explain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/help-env/">help-env</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/init/">init</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/install/">install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/kill/">kill</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/killall/">killall</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/log/">log</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/lsp/">lsp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/profile/">profile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/query/">query</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/root/">root</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/run/">run</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/server/">server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/starlark/">starlark</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/status/">status</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/subscribe/">subscribe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/targets/">targets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/test/">test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/uquery/">uquery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands/utargets/">utargets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/commands_extra/exit_codes/">Exit Codes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/users/how_tos/modifiers_setup/">How-tos</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/how_tos/modifiers_setup/">Setup configuration modifiers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/how_tos/modifiers_package/">Add configuration modifiers to entire directories</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/how_tos/modifiers_target/">Add configuration modifiers to a specific target</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/how_tos/modifiers_cli/">Specify configuration modifiers from the CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/how_tos/question_mark_modifier/">?modifier CLI Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/how_tos/compilation_database/">Compilation databases</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/users/languages/go/overview/">Languages</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/users/languages/go/overview/">Go</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/languages/go/overview/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/languages/go/toolchains/">Toolchains</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/languages/go/third_party_packages/">Third-Party Packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/languages/go/gopackagesdriver/">IDE/Tools Integration (gopackagesdriver)</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/cheat_sheet/">Cheat Sheet</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/users/faq/common_issues/">Troubleshooting</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/faq/common_issues/">Common Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/faq/starlark_peak_mem/">Debugging Excess Starlark Peak Memory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/faq/buck_hanging/">Why is Buck2 hanging?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/users/build_observability/interactive_console/">Build Observability</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/build_observability/interactive_console/">Buck2 Consoles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/build_observability/logging/">Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/build_observability/build_report/">Build Report</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/remote_execution/">Remote Execution</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/users/query/aquery/">Queries</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/query/aquery/">Aquery Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/query/cquery/">Cquery Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/query/uquery/">Uquery Environment</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/users/advanced/deferred_materialization/">Advanced Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/advanced/deferred_materialization/">Deferred Materialization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/advanced/restarter/">Restarter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/advanced/in_memory_cache/">In Memory Cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/users/advanced/external_cells/">External Cells</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/rule_authors/writing_rules/">Rule Authors</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/writing_rules/">Writing Rules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/writing_toolchains/">Writing Toolchains</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/transitive_sets/">Transitive Sets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/configurations/">Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/configurations_by_example/">Configurations By Example</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/configuration_transitions/">Configuration Transitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/dynamic_dependencies/">Dynamic Dependencies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/anon_targets/">Anonymous Targets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/test_execution/">Test Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/optimization/">Observability and Optimization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/incremental_actions/">Incremental Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/alias/">Alias</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/local_resources/">Local Resources For Tests Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/package_files/">PACKAGE Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/dep_files/">Dep Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rule_authors/string_parameter_macros/">String parameter macros</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/bxl/">BXL Developers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/bxl/">About BXL</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/">Why BXL</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/tutorial/">Tutorial</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/bxl/how_tos/basic_how_tos/">How-to guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/how_tos/basic_how_tos/">Basic How-Tos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/how_tos/how_to_cache_and_share_operations/">How to Cache and Share Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/how_tos/how_to_handle_errors/">How to Handle Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/how_tos/how_to_catch_building_artifacts_errors/">How to Catch Building Artifacts Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/how_tos/how_to_run_actions_based_on_the_content_of_artifact/">How to run actions based on the content of artifact</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/how_tos/how_to_use_target_universe/">How to Use Target Universe in BXL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/how_tos/how_to_collect_telemetry_events/">How to Collect Telemetry Events</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/bxl/explanation/basics/">Explanation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/explanation/basics/">BXL Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/explanation/labels_and_nodes/">Understanding Labels and Nodes in Buck2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/explanation/bxl_cquery_vs_cli_cquery/">BXL cquery vs. Buck2 CLI cquery - Divergence in Configuration Handling</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bxl/faq/">FAQs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/bxl/">BXL APIs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/developers/architecture/buck2/">Buck2 Developers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/developers/architecture/buck2/">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/architecture/buck2/">Architectural Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/architecture/buck1_vs_buck2/">Buck1 vs Buck2</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/what-ran/">Finding Commands That Buck2 Ran</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/developers/starlark/environment/">Starlark Language</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/starlark/environment/">Environments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/starlark/gc/">A Moving Garbage Collector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/starlark/heaps/">Heaps and Heap References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/starlark/spec/">Starlark Language Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/starlark/types/">Starlark Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/starlark/values/">Value Representation</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/request_for_comments/">Request for Comments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/windows_cheat_sheet/">Windows Cheat Sheet</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/insights_and_knowledge/modern_dice/">Insights and Knowledge</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/insights_and_knowledge/modern_dice/">Introduction to Modern DICE</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Buck2 Users</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/users/commands/"><span itemprop="name">Commands</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">build</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>build</h1></header>
<p>This document provides an overview of the commands and options available under <code>buck2 build</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="buck2-build"><code>buck2 build</code><a href="#buck2-build" class="hash-link" aria-label="Direct link to buck2-build" title="Direct link to buck2-build">​</a></h2>
<p>Build the specified targets</p>
<p><strong>Usage</strong>: <code>buck2 build [OPTIONS] [TARGET_PATTERNS]...</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="arguments">Arguments:<a href="#arguments" class="hash-link" aria-label="Direct link to Arguments:" title="Direct link to Arguments:">​</a></h3>
<ul>
<li><code>&lt;TARGET_PATTERNS&gt;</code>
Patterns to build</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="options">Options:<a href="#options" class="hash-link" aria-label="Direct link to Options:" title="Direct link to Options:">​</a></h3>
<ul>
<li>
<p><code>--show-output</code>
Print the path to the output for each of the rules relative to the project root</p>
</li>
<li>
<p><code>--show-full-output</code>
Print the absolute path to the output for each of the rules</p>
</li>
<li>
<p><code>--show-simple-output</code>
Print only the path to the output for each of the rules relative to the project root</p>
</li>
<li>
<p><code>--show-full-simple-output</code>
Print only the absolute path to the output for each of the rules</p>
</li>
<li>
<p><code>--show-json-output</code>
Print the output paths relative to the project root, in JSON format</p>
</li>
<li>
<p><code>--show-full-json-output</code>
Print the output absolute paths, in JSON format</p>
</li>
<li>
<p><code>-M, --materializations &lt;MATERIALIZATIONS&gt;</code>
Materialize (or skip) the final artifacts, bypassing buckconfig.</p>
<ul>
<li>Possible values:<!-- -->
<ul>
<li><code>all</code></li>
<li><code>none</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>--upload-final-artifacts &lt;UPLOAD_FINAL_ARTIFACTS&gt;</code>
Upload (or skip) the final artifacts.</p>
<ul>
<li>Possible values:<!-- -->
<ul>
<li><code>always</code></li>
<li><code>never</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>--build-default-info</code>
Build default info (this is the default)</p>
</li>
<li>
<p><code>--skip-default-info</code>
Do not build default info (this is not the default)</p>
</li>
<li>
<p><code>--build-run-info</code>
Build runtime dependencies (this is the default)</p>
</li>
<li>
<p><code>--skip-run-info</code>
Do not build runtime dependencies (this is not the default)</p>
</li>
<li>
<p><code>--build-test-info</code>
Build tests (this is not the default)</p>
</li>
<li>
<p><code>--skip-test-info</code>
Do not build tests (this is the default)</p>
</li>
<li>
<p><code>--out &lt;OUTPUT_PATH&gt;</code>
Copy the output of the built target to this path (<code>-</code> to stdout)</p>
</li>
<li>
<p><code>--build-report &lt;PATH&gt;</code>
Print a build report</p>
<p><code>--build-report=-</code> will print the build report to stdout <code>--build-report=&lt;filepath&gt;</code> will write the build report to the file</p>
</li>
<li>
<p><code>--enable-optional-validations &lt;VALIDATION_NAMES&gt;</code>
Comma separated list of validation names to run that are marked optional.</p>
<p>By default, validations marked as optional are skipped. This option overrides the behaviour and executes those validations.</p>
</li>
<li>
<p><code>--build-report-options &lt;BUILD_REPORT_OPTIONS&gt;</code>
Comma separated list of build report options.</p>
<p>The following options are supported:</p>
<p><code>fill-out-failures</code>: fill out failures the same way Buck1 would.</p>
<p><code>package-project-relative-paths</code>: emit the project-relative path of packages for the targets that were built.</p>
</li>
<li>
<p><code>--streaming-build-report &lt;PATH&gt;</code>
Stream intermediary build reports to a file in json lines format.</p>
<p>Each output materialization will trigger a new build report which will be written to the file as a single line json.</p>
</li>
<li>
<p><code>-j, --num-threads &lt;THREADS&gt;</code>
Number of threads to use during execution (default is # cores)</p>
</li>
<li>
<p><code>--local-only</code>
Enable only local execution. Will reject actions that cannot execute locally</p>
</li>
<li>
<p><code>--remote-only</code>
Enable only remote execution. Will reject actions that cannot execute remotely</p>
</li>
<li>
<p><code>--prefer-local</code>
Enable hybrid execution. Will prefer executing actions that can execute locally on the local host</p>
</li>
<li>
<p><code>--prefer-remote</code>
Enable hybrid execution. Will prefer executing actions that can execute remotely on RE and will avoid racing local and remote execution</p>
</li>
<li>
<p><code>--unstable-no-execution</code>
Experimental: Disable all execution</p>
</li>
<li>
<p><code>--no-remote-cache</code>
Do not perform remote cache queries or cache writes. If remote execution is enabled, the RE service might still deduplicate actions, so for e.g. benchmarking, using a random isolation dir is preferred</p>
</li>
<li>
<p><code>--write-to-cache-anyway</code>
Could be used to enable the action cache writes on the RE worker when no_remote_cache is specified</p>
</li>
<li>
<p><code>--eager-dep-files</code>
Process dep files when they are generated (i.e. after running a command that produces dep files), rather than when they are used (i.e. before re-running a command that previously produced dep files). Use this when debugging commands that produce dep files. Note that commands that previously produced dep files will not re-run: only dep files produced during this command will be eagerly loaded</p>
</li>
<li>
<p><code>--upload-all-actions</code>
Uploads every action to the RE service, regardless of whether the action needs to execute on RE.</p>
<p>This is useful when debugging builds and trying to inspect actions which executed remotely. It&#x27;s possible that the action result is cached but the action itself has expired. In this case, downloading the action itself would fail. Enabling this option would unconditionally upload all actions, thus you will not hit any expiration issues.</p>
</li>
<li>
<p><code>--fail-fast</code>
If Buck hits an error, do as little work as possible before exiting.</p>
<p>To illustrate the effect of this flag, consider an invocation of <code>build :foo :bar</code>. The default behavior of buck is to do enough work to get a result for the builds of each of <code>:foo</code> and <code>:bar</code>, and no more. This means that buck will continue to complete the build of <code>:bar</code> after the build of <code>:foo</code> has failed; however, once one dependency of <code>:foo</code> has failed, other dependencies will be cancelled unless they are needed by <code>:bar</code>.</p>
<p>This flag changes the behavior of buck to not wait on <code>:bar</code> to complete once <code>:foo</code> has failed. Generally, this flag only has an effect on builds that specify multiple targets.</p>
<p><code>--keep-going</code> changes the behavior of buck to not only wait on <code>:bar</code> once one dependency of <code>:foo</code> has failed, but to additionally attempt to build other dependencies of <code>:foo</code> if possible.</p>
</li>
<li>
<p><code>--keep-going</code>
If Buck hits an error, continue doing as much work as possible before exiting.</p>
<p>See <code>--fail-fast</code> for more details.</p>
</li>
<li>
<p><code>--skip-missing-targets</code>
If target is missing, then skip building instead of throwing error</p>
</li>
<li>
<p><code>--skip-incompatible-targets</code>
If target is incompatible with the specified configuration, skip building instead of throwing error. This does not apply to targets specified with glob patterns <code>/...</code> or <code>:</code> which are skipped unconditionally</p>
</li>
<li>
<p><code>--materialize-failed-inputs</code>
Materializes inputs for failed actions which ran on RE</p>
</li>
<li>
<p><code>--materialize-failed-outputs</code>
Materializes outputs (if present) for failed actions which ran on RE</p>
</li>
<li>
<p><code>-u, --target-universe &lt;TARGET_UNIVERSE&gt;</code>
Comma separated list of targets to construct a configured target universe.</p>
<p>When the option is specified, command targets are be resolved in this universe.
Additionally, <code>--target-platforms=</code> and <code>--modifier=</code> flags are be used to configure the
universe targets, not the command targets.</p>
<p>This argument is particularly recommended on most non-trivial cqueries. In the absence of
this argument, buck2 will use the target literals in your cquery expression as the value
for this argument, which may not be what you want.</p>
</li>
<li>
<p><code>--target-platforms &lt;PLATFORM&gt;</code>
Configuration target (one) to use to configure targets</p>
</li>
<li>
<p><code>-m, --modifier &lt;VALUE&gt;</code>
A configuration modifier to configure all targets on the command line. This may be a constraint value target.</p>
</li>
<li>
<p><code>--overall-timeout &lt;TIMEOUT&gt;</code>
How long to run the command for. If the timeout is exceeded, Buck2 will exit as quickly as possible and not run further builds or tests.</p>
<p>In-flight builds and tests will be cancelled. The test orchestrator, if there is one, will be allowed to shut down gracefully.</p>
<p>The exit code for builds will be a user error, for tests it is controlled by the test orchestrator (which normally should report zero for this).</p>
<p>The format is a concatenation of time spans (separated by spaces). Each time span is an integer number and a suffix.</p>
<p>Relevant supported suffixes: seconds, second, sec, s, minutes, minute, min, m, hours, hour, hr, h</p>
<p>For example: <code>5m 10s</code>, <code>500s</code>.</p>
</li>
<li>
<p><code>-c, --config &lt;SECTION.OPTION=VALUE&gt;</code>
List of config options</p>
</li>
<li>
<p><code>--config-file &lt;PATH&gt;</code>
List of config file paths</p>
</li>
<li>
<p><code>--fake-host &lt;HOST&gt;</code></p>
<ul>
<li>Possible values:<!-- -->
<ul>
<li><code>default</code></li>
<li><code>linux</code></li>
<li><code>macos</code></li>
<li><code>windows</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>--fake-arch &lt;ARCH&gt;</code></p>
<ul>
<li>Possible values:<!-- -->
<ul>
<li><code>default</code></li>
<li><code>aarch64</code></li>
<li><code>x8664</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>--fake-xcode-version &lt;VERSION-BUILD&gt;</code>
Value must be formatted as: version-build (e.g., 14.3.0-14C18 or 14.1-14B47b)</p>
</li>
<li>
<p><code>--reuse-current-config</code>
Re-uses any <code>--config</code> values (inline or via modefiles) if there&#x27;s a previous command, otherwise the flag is ignored.</p>
<p>If there is a previous command and <code>--reuse-current-config</code> is set, then the old config is used, ignoring any overrides.</p>
<p>If there is no previous command but the flag was set, then the flag is ignored, the command behaves as if the flag was not set at all.</p>
</li>
<li>
<p><code>--preemptible &lt;PREEMPTIBLE&gt;</code>
Used to configure when this command could be preempted by another command for the same isolation dir.</p>
<p>Normally, when you run two commands - from different terminals, say - buck2 will attempt to run them in parallel. However, if the two commands are based on different state, that is they either have different configs or different filesystem states, buck2 cannot run them in parallel. The default behavior in this case is to block the second command until the first completes.</p>
<ul>
<li>Possible values:<!-- -->
<ul>
<li><code>never</code>: (default) When another command starts that cannot run in parallel with this one, block that command</li>
<li><code>always</code>: When another command starts, interrupt this command, <em>even if they could run in parallel</em>. There is no good reason to use this other than that it provides slightly nicer superconsole output</li>
<li><code>ondifferentstate</code>: When another command starts that cannot run in parallel with this one, interrupt this command</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>--exit-when &lt;EXIT_WHEN&gt;</code>
Whether to proceed with or fail this invocation based on the daemon state</p>
<ul>
<li>Possible values:<!-- -->
<ul>
<li><code>never</code>: (default) Execute this command normally</li>
<li><code>differentstate</code>: Fail this command if another command is already running with a different state</li>
<li><code>notidle</code>: Fail this command if another command is already running (regardless of daemon state)</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>--disable-starlark-types</code>
Disable runtime type checking in Starlark interpreter.</p>
<p>This option is not stable, and can be used only locally to diagnose evaluation performance problems.</p>
</li>
<li>
<p><code>--stack</code>
Record or show target call stacks.</p>
<p>Starlark call stacks will be included in duplicate targets error.</p>
<p>If a command outputs targets (like <code>targets</code> command), starlark call stacks will be printed after the targets.</p>
</li>
<li>
<p><code>--profile-patterns &lt;PROFILE_PATTERNS&gt;</code>
Enables profiling for all evaluations whose evaluation identifier matches one of the provided patterns.</p>
<p>Some examples identifiers: analysis/cell//buck2/app/buck2_action_impl<!-- -->:buck2_action_impl<!-- --> (cfg<!-- -->:linux-x86_64<!-- -->#27ac5723e0c99706) load/cell//build_defs/json.bzl load/prelude//playground/test.bxl load/cell//build_defs/json.bzl@other_cell load_buildfile/fbcode//third-party-buck/platform010/build/ncurses load_packagefile/fbcode//cli/rust/cli_delegate anon_analysis/anon//:_anon_link_rule (anon: 766183dc9b6f680a) (fbcode//buck2/platform/execution<!-- -->:linux-x86_64<!-- -->#08961b14cfb182aa) bxl/prelude//playground/test.bxl<!-- -->:playground</p>
<p>You can pass <code>--profile-patterns=.*</code> to enable no-op profiling for everything (additionally pass <code>--profile-patterns-mode=none</code> to use no-op profiling to just get a list of all the identifiers).</p>
<p>The profile results will be written to individual .profile files in <code>&lt;ROOT_OUTPUT&gt;/&lt;data+time&gt;-&lt;uuid&gt;/</code> where ROOT_OUTPUT comes from the --profile-patterns-output flag. In that directory there will also be a file listing all the identifiers that were profiled.</p>
<p>Enabling/disabling profiling of an evaluation will invalidate the results of that evaluation and it will be recomputed. In some cases, this will cause other work to also need to be redone (for example, invalidating the result of loading PACKAGE files causes all consumers to be recomputed). But if you keep profiling options consistent between commands, only the work that is otherwise invalidated will be redone (and only for those would profiling results be created).</p>
<p>You must also pass --profile-patterns-mode and --profile-patterns-output.</p>
</li>
<li>
<p><code>--profile-patterns-output &lt;PATH&gt;</code></p>
</li>
<li>
<p><code>--profile-patterns-mode &lt;PROFILE_PATTERNS_MODE&gt;</code>
Profile mode.</p>
<p>Memory profiling modes have suffixes either <code>-allocated</code> or <code>-retained</code>.</p>
<p><code>-retained</code> means memory kept in frozen starlark heaps after analysis completes. <code>-retained</code> does not work when profiling loading, because no memory is retained after loading and frozen heap is not even created. This is probably what you want when profiling analysis.</p>
<p><code>-allocated</code> means allocated memory, including memory which is later garbage collected.</p>
<ul>
<li>Possible values:<!-- -->
<ul>
<li><code>time-flame</code></li>
<li><code>heap-allocated</code></li>
<li><code>heap-retained</code></li>
<li><code>heap-flame-allocated</code></li>
<li><code>heap-flame-retained</code></li>
<li><code>heap-summary-allocated</code></li>
<li><code>heap-summary-retained</code></li>
<li><code>statement</code></li>
<li><code>bytecode</code></li>
<li><code>bytecode-pairs</code></li>
<li><code>typecheck</code></li>
<li><code>coverage</code></li>
<li><code>none</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>--console &lt;super|simple|...&gt;</code>
Which console to use for this command</p>
<ul>
<li>Default value: <code>auto</code></li>
<li>Possible values:<!-- -->
<ul>
<li><code>auto</code></li>
<li><code>none</code></li>
<li><code>simple</code></li>
<li><code>simplenotty</code></li>
<li><code>simpletty</code></li>
<li><code>super</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>--ui &lt;UI&gt;</code>
Configure additional superconsole ui components.</p>
<p>Accepts a comma-separated list of superconsole components to add. Possible values are:</p>
<p>dice - shows information about evaluated dice nodes debugevents - shows information about the flow of events from buckd</p>
<p>These components can be turned on/off interactively. Press &#x27;h&#x27; for help when superconsole is active.</p>
<ul>
<li>Possible values:<!-- -->
<ul>
<li><code>dice</code></li>
<li><code>debugevents</code></li>
<li><code>io</code>: I/O panel</li>
<li><code>re</code>: RE panel</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>--no-interactive-console</code>
Disable console interactions</p>
</li>
<li>
<p><code>--event-log &lt;PATH&gt;</code>
Write events to this log file</p>
</li>
<li>
<p><code>--write-build-id &lt;PATH&gt;</code>
Write command invocation id into this file</p>
</li>
<li>
<p><code>--unstable-write-invocation-record &lt;PATH&gt;</code>
Write the invocation record (as JSON) to this path. No guarantees whatsoever are made regarding the stability of the format</p>
</li>
<li>
<p><code>--command-report-path &lt;PATH&gt;</code>
Write the command report to this path. A command report is always written to <code>buck-out/v2/&lt;uuid&gt;/command_report</code> even without this flag</p>
</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/users/commands/audit/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">audit</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/users/commands/bxl/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">bxl</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#buck2-build" class="table-of-contents__link toc-highlight"><code>buck2 build</code></a><ul><li><a href="#arguments" class="table-of-contents__link toc-highlight">Arguments:</a></li><li><a href="#options" class="table-of-contents__link toc-highlight">Options:</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">User guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/buck2/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/buck2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>