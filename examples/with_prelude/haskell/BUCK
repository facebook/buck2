_SUPPORTED = not host_info().os.is_windows

# buildifier: disable=no-effect
haskell_library(
    name = "library",
    srcs = ["Library.hs"],
) if _SUPPORTED else None

# buildifier: disable=no-effect
haskell_binary(
    name = "main",
    srcs = ["Main.hs"],
    deps = [":library"],
) if _SUPPORTED else None
