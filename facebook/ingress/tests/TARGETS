# This code was initially generated by ServiceFoundry
load("@fbcode_macros//build_defs:cpp_unittest.bzl", "cpp_unittest")

cpp_unittest(
    name = "ingress_line_test",
    srcs = [
        "IngressLineTest.cpp",
    ],
    deps = [
        "//buck2/facebook/ingress:IngressLine",
        "//buck2/facebook/proto:proto-cpp",
    ],
)

cpp_unittest(
    name = "ingress_processor_test",
    srcs = [
        "ActionErrorProcessorTest.cpp",
        "ActionReporterProcessorTest.cpp",
        "AnalysisReporterProcessorTest.cpp",
        "BuildGraphExecutionProcessorTest.cpp",
        "CommandReporterProcessorTest.cpp",
        "EntInvocationProcessorTest.cpp",
        "IngressProcessorTest.cpp",
        "LoadReporterProcessorTest.cpp",
        "PanicTest.cpp",
        "ScubaEventProcessorTest.cpp",
    ],
    deps = [
        "//buck2/facebook/ingress:IngressLine",
        "//buck2/facebook/ingress:IngressProcessor",
        "//buck2/facebook/ingress/scuba:scuba",
        "//buck2/facebook/ingress/storage:storage",
        "//buck2/facebook/ingress/utils:utils",
        "//buck2/facebook/proto:proto-cpp",
        "//common/encode:encode",
        "//justknobs:justknobs_patches",
        "//nodeapi/cpp/testing:cpp",
        "//nodeapi/projects/buck2_cpp:buck2",
        "//rfe/scubadata:scubadata",
    ],
    external_deps = [
        "protobuf",
        ("googletest", None, "gmock"),
    ],
)
