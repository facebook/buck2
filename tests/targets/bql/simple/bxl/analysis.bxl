load("//rules:rules.bzl", "FooInfo")

def _providers_test_impl(ctx):
    owner = ctx.cquery().owner("bin/TARGETS.fixture")

    providers = ctx.analysis(owner)[configured_sub_target(owner[0].label)].providers()
    ctx.output.print(providers[FooInfo])

    providers = ctx.analysis("//:bin").providers()
    ctx.output.print(providers[FooInfo])

providers_test = bxl(
    impl = _providers_test_impl,
    cli_args = {},
)
