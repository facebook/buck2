load("@fbcode_macros//build_defs:native_rules.bzl", "buck_genrule")
load("@fbcode_macros//build_defs:python_binary.bzl", "python_binary")
load("@fbcode_macros//build_defs:python_library.bzl", "python_library")

python_library(
    name = "lib",
    srcs = ["lib/__main__.py"],
    base_module = "",
)

python_binary(
    name = "bin",
    main_module = "lib",
    deps = [":lib"],
)

buck_genrule(
    name = "check",
    out = "out.txt",
    cmd = '"$(exe :bin)" | touch "$OUT"',
)
